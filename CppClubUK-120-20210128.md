---
title:    C++ Club UK Meeting 120
author:   Gleb Dolgich
date:     2021-01-28
---

## C++ Working Draft 1990

* [Google Drive](https://drive.google.com/file/d/1XNzsgWMk0wfFOa5kjN9OV5a-04ttrdjE/view)
  * [Reddit](https://www.reddit.com/r/cpp/comments/l33mmc/very_early_c_working_draft_i_found_february_1990/)

## 2020-12 C++ committee mailing

* [Mailing](https://isocpp.org/blog/2020/12/2020-12-mailing-available)
  * [P0561R5: An RAII Interface for Deferred Reclamation](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p0561r5.html)
  * [P1072R6: `basic_string::resize_and_overwrite`](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p1072r6.html)
  * [P1102R2: Down with ()!](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p1102r2.html)
  * [P1689R3: Format for describing dependencies of source files](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p1689r3.html)
  * [P2175R0: Composable cancellation for sender-based async operations](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2175r0.html)
  * [P2186R1: Removing Garbage Collection Support](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2186r1.html)
  * [P2213R1: Executors Naming](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2213r1.pdf)
  * [P2216R1: `std::format` improvements](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2216r1.html)
  * [P2248R1: Enabling list-initialization for algorithms](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2248r1.html)
  * [P2265R0: Renaming `any_invocable`](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2265r0.pdf)
  * [P2273R0: Making `std::unique_ptr constexpr`](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2273r0.pdf)
  * [P2274R0: C and C++ Compatibility Study Group](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2274r0.pdf)

## 2021-01 C++ committee mailing

* [Mailing](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/#mailing2021-01), [Reddit](https://www.reddit.com/r/cpp/comments/l2q9ec/wg21_january_2021_mailing/?ref=share&ref_source=link)
  * [P0447R12: Introduction of `std::colony` to the standard library](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p0447r12.html)
  * [P1682R2: `std::to_underlying` for enumerations](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p1682r2.html)
  * [P2168R1: `std::generator`: Synchronous Coroutine Generator for Ranges](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2168r1.pdf)
  * [P2279R0: We need a language mechanism for customization points](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2279r0.html)
  * [P2287R0: Designated-initializers for Base Classes](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2287r0.html)
  * [P2232R0: Zero-Overhead Deterministic Exceptions: Catching Values](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2232r0.html)
    * [P0709R0: Zero-overhead deterministic exceptions: Throwing values](http://open-std.org/JTC1/SC22/WG21/docs/papers/2018/p0709r0.pdf)
    * [Boost.LEAF](https://boostorg.github.io/leaf/)

## Perhaps it's time for a more opinionated dialect of C++

* [Reddit](https://www.reddit.com/r/cpp/comments/kvdprx/perhaps_it_is_time_for_an_opinionated_dialekt_of_c/)
* [Should I litter my code with (the correct) attributes for every function, or just leave it pretty?](https://www.reddit.com/r/cpp/comments/kvpab0/should_i_litter_my_code_with_the_correct/)

## Latest C++: theory vs. reality

* [Reddit](https://www.reddit.com/r/cpp/comments/kva2w8/latest_c_theory_vs_reality/)
  * [Godot game engine C++ standard thread on GitHub](https://github.com/godotengine/godot/issues/9694)

## C++ vs Rust performance

* [Reddit /r/cpp](https://www.reddit.com/r/cpp/comments/kyhark/c_vs_rust_performance/)
  * [Reddit /r/rust](https://www.reddit.com/r/rust/comments/k7pssg/do_the_compilers_really_create_more_optimal_code/)

## If you were allowed to make breaking changes to the C++ specification, what features would you modify/replace/remove to make the language better?

* [Reddit](https://www.reddit.com/r/cpp/comments/ksb99w/if_you_were_allowed_to_make_breaking_changes_to/)

## mocxx: a versatile C++ function mocking framework based on Frida, by Guardsquare

No macros! Doesn't support mocking virtual functions yet.

* [Reddit](https://www.reddit.com/r/cpp/comments/k0atyi/mocxx_a_versatile_c_function_mocking_framework/)
  * [GitHub](A versatile C++ function mocking framework. It replaces a target function with the provided implementation, and integrates well with existing testing and mocking frameworks.) (C++17, GPL-3.0)
    * [Frida - Dynamic instrumentation toolkit for developers, reverse-engineers, and security researchers](https://github.com/frida)
  * [Explanatory blog post at Guardsquare](https://tech.guardsquare.com/posts/mocxx-the-mocking-tool/)

## Compile 1 Million Lines Of C++ In ~2 Minutes With A 16 Core Ryzen 9 5950x

* [Embarcadero](https://blogs.embarcadero.com/compile-1-million-lines-of-c-in-2-minutes-with-a-16-core-ryzen-9-5950x/)
  * [Reddit](https://www.reddit.com/r/cpp/comments/kigy7l/compile_1_million_lines_of_c_in_2_minutes_with_a/)

> I love how a shitty, bug-ridden development environment that costs US$1359 for the most basic edition still requires you to buy a separate US$139 extension to enable parallel builds, a standard feature available on practically every other closed and open source compiler and build system out of the box for $0 extra.

### Dev-C++

A fast, portable, simple, and free C/C++ IDE for Windows, built in Delphi

* [GitHub](https://github.com/Embarcadero/Dev-Cpp)

## Using `std::list::splice` to implement a LRU cache

* [Article on nextptr](https://www.nextptr.com/tutorial/ta1576645374/stdlist-splice-for-implementing-lru-cache)
* [`std::list::splice`](https://en.cppreference.com/w/cpp/container/list/splice)

## What should the state of a moved-from object be?

* [Raymond Chen](https://devblogs.microsoft.com/oldnewthing/20201218-00/?p=104558)
  * [Reddit](https://www.reddit.com/r/cpp/comments/kfsjr3/what_should_the_state_of_a_movedfrom_object_be/)

## Reducing Memory Consumption in Visual Assist

* [Blog post](https://blog.wholetomato.com/2020/12/17/technical-deep-dive-reducing-memory-consumption-in-visual-assist-build-2393/)
  * [Reddit](https://www.reddit.com/r/cpp/comments/kgpw63/technical_deep_dive_reducing_memory_consumption/)

## `dont_deduce<T>`

* [artificial::mind](https://artificial-mind.net/blog/2020/09/26/dont-deduce)
  * [Reddit](https://www.reddit.com/r/cpp/comments/j0pgxh/controlling_template_argument_deduction_via_dont/)

### C++11

```cpp
template <class T> struct foo_t { using type = T; };
template <class T> using foo = typename foo_t<T>::type;
```

### C++20

```cpp
template <typename T>
auto operator+(
  vec3<T> const& a,
  std::convertible_to<T> auto const& b
) -> vec3<T>;
```

## Writing a custom iterator in modern C++ (C++17)

* [Article](https://www.internalpointers.com/post/writing-custom-iterators-modern-cpp)
  * [Reddit](https://www.reddit.com/r/programming/comments/kfl04g/writing_a_custom_iterator_in_modern_c/)

## C++ for Swift developers

* [Sidharth Juyal](https://whackylabs.com/swift/cpp/languages/2021/01/03/cpp-for-swift-devs/)
  * [Reddit](https://www.reddit.com/r/swift/comments/kpnp1m/c_for_swift_developers/)

### Wrapping C++ for use in Swift

* [Reddit](https://www.reddit.com/r/iOSProgramming/comments/jxqv74/looking_for_good_examples_of_wrapping_c/)

## Is Zero a Butterfly?

* [Shafik Yaghmour](https://shafik.github.io/c++/2021/01/03/is_zero_a_butterfly.html)
  * [Reddit](https://www.reddit.com/r/cpp/comments/kqhcdb/is_zero_a_butterfly/)

## `std::optional` and other useful types

* [Reddit](https://www.reddit.com/r/cpp/comments/kozrhy/what_tools_similar_to_stdoptional_should_you_be/)

## EnTT 3.6.0

Gaming meets modern C++ - a fast and reliable entity component system (ECS) and much more.

* [Announcement on Reddit](https://www.reddit.com/r/gamedev/comments/kttqxm/entt_v360_is_out_gaming_meets_modern_c/)
  * [GitHub](https://github.com/skypjack/entt) (C++17, MIT)

## With `std::variant`, you choose either performance or sanity

* [Reddit](https://www.reddit.com/r/cpp/comments/kst2pu/with_stdvariant_you_choose_either_performance_or/)

## MSVC build performance

* [Improving code generation time with C++ Build Insights](https://devblogs.microsoft.com/cppblog/improving-code-generation-time-with-cpp-build-insights/)
* [Faster C++ builds, simplified: a new metric for time](https://devblogs.microsoft.com/cppblog/faster-cpp-builds-simplified-a-new-metric-for-time/)
* [The Coalition Sees 27.9X Iteration Build Improvement with Visual Studio 2019](https://devblogs.microsoft.com/cppblog/the-coalition-sees-27-9x-iteration-build-improvement-with-visual-studio-2019/)
* [Faster C++ Iteration Builds](https://devblogs.microsoft.com/cppblog/faster-c-iteration-builds/)
  * [Reddit](https://www.reddit.com/r/cpp/comments/ksuvbo/msvc_faster_c_iteration_builds/)
* [C++ Build Analyzer](https://github.com/MetanoKid/cpp-build-analyzer)
  * [C++ Build Insights SDK](https://docs.microsoft.com/en-gb/cpp/build-insights/reference/sdk/overview?view=msvc-160)

## Infix Function Calls with Boost HOF

* [Jo Boccara](https://www.fluentcpp.com/2021/01/08/infix-function-calls-with-boost-hof/)
  * [Reddit](https://www.reddit.com/r/cpp/comments/kt06b5/fluentc_infix_function_calls_with_boost_hof/)

### Before

```cpp
const bool b = isPrefixOf(prefix, text);
```

### After

```cpp
const bool b = prefix <isPrefixOf> text;
```

## Polymorphism Decision Table

* [Kilian Henneberger](https://ukilele.github.io//2020/05/11/polymorphism-decision-table.html)

## Tracy Profiler

A real time, nanosecond resolution, remote telemetry, hybrid frame and sampling profiler for games and other applications.

Tracy supports profiling CPU (C, C++11, Lua), GPU (OpenGL, Vulkan, OpenCL, Direct3D 12), memory, locks, context switches, per-frame screenshots and more.

* [GitHub](https://github.com/wolfpld/tracy)

## The most thoroughly commented linker script (probably)

* [Stargirl](https://blog.thea.codes/the-most-thoroughly-commented-linker-script/)
  * [GitHub](https://github.com/theacodes/Winterbloom_Castor_and_Pollux/blob/master/firmware/scripts/samd21g18a.ld)
  * [Reddit](https://www.reddit.com/r/cpp/comments/kx1dbg/the_most_thoroughly_commented_linker_script/)

## How can I write a C++ class that iterates over its base classes?

* [Raymond Chen](https://devblogs.microsoft.com/oldnewthing/20210114-00/?p=104714)
  * [Reddit](https://www.reddit.com/r/cpp/comments/kx9uli/how_can_i_write_a_c_class_that_iterates_over_its/)

## Template specialization and instantiation

* [Xiang Fan, Microsoft](https://devblogs.microsoft.com/cppblog/build-throughput-series-template-metaprogramming-fundamentals/)
  * [Reddit](https://www.reddit.com/r/cpp/comments/kx7r0h/build_throughput_series_template_metaprogramming/)

## C++ Performance Trap #1: Constant-size `std::vector`

* [Scott Wolchok](https://wolchok.org/posts/cxx-trap-1-constant-size-vector/)
  * [Reddit](https://www.reddit.com/r/cpp/comments/kyc6f9/c_performance_trap_1_constantsize_stdvector/)
  * [Software optimization resources, by Agner](https://www.agner.org/optimize/#manuals)

## C++ Performance Trap #2: Unnecessary `std::function`

* [Scott Wolchok](https://wolchok.org/posts/cxx-trap-2-std-function/)
  * [Reddit](https://www.reddit.com/r/cpp/comments/kzvjgn/c_performance_trap_2_unnecessary_stdfunction/?ref=share&ref_source=link)

## Inlining and Compiler Optimizations

* [Scott Wolchok](https://wolchok.org/posts/inlining-and-compiler-optimizations/)
  * [Reddit](https://www.reddit.com/r/cpp/comments/l3r8o4/inlining_and_compiler_optimizations/?ref=share&ref_source=link)

## The perils of the accidental C++ conversion constructor

* [Raymond Chen](https://devblogs.microsoft.com/oldnewthing/20210115-00/?p=104719)
  * [Reddit](https://www.reddit.com/r/cpp/comments/ky691b/the_perils_of_the_accidental_c_conversion/)

> No one hates C++ more than the people who love C++. [=>](https://www.reddit.com/r/cpp/comments/ky691b/the_perils_of_the_accidental_c_conversion/gjfbed4/)

## Making Win32 APIs More Accessible to More Languages

* [Microsoft](https://blogs.windows.com/windowsdeveloper/2021/01/21/making-win32-apis-more-accessible-to-more-languages/)
  * [C++/WinRT](https://github.com/microsoft/cppwinrt)

## C++ and game engines

* [Reddit](https://www.reddit.com/r/cpp/comments/l1vfz5/c_and_game_engines/)

> Hey, i started out with c++ 3 months ago and really love it. I already have some experience in unity, but i d like to use c++. Is there any engine you would recommend me to try out? I know about Unreal Engine but i cant find any good tutorials for how to use c++ with unreal engine. Is there any other option or a tutorial series or anything you could recommend me?

## Game developers, what compiler optimization setting do you use?

* [Reddit](https://www.reddit.com/r/cpp/comments/kyeid1/game_developers_what_compiler_optimization/?ref=share&ref_source=link)

## Adding elements to arrays and changing variables during compilation â€“ imperative meta-metaprogramming in C++

* [Dugi](https://lordsoftech.com/programming/adding-elements-to-arrays-and-changing-variables-during-compilation-imperative-meta-metaprogramming-in-c/)
  * [Reddit](https://www.reddit.com/r/cpp/comments/l0pwes/adding_elements_to_arrays_and_changing_variables/?ref=share&ref_source=link)

## Anonymous types in C++

* [Jan Bielak](https://janbielak.com/index.php/2021/01/15/anonymous-types-in-c/)
  * [Reddit](https://www.reddit.com/r/cpp/comments/ky56k7/anonymous_types_in_c/)

```cpp
constexpr auto simplify(struct_(int numerator, denominator;) ratio) -> decltype(ratio)
{
    int gcd = std::gcd(ratio.numerator, ratio.denominator);
    return { ratio.numerator / gcd, ratio.denominator / gcd };
}
```

## Documenting C++ code

* [Reddit](https://www.reddit.com/r/cpp/comments/kzvnyx/how_do_you_document_your_c_code/?ref=share&ref_source=link)
  * [Doxygen](https://www.doxygen.nl/index.html), [Sphinx](https://www.sphinx-doc.org/en/master/) + [Breathe](https://github.com/michaeljones/breathe) => [{fmt}](https://fmt.dev/latest/index.html)
  * [Standardese](https://github.com/standardese/standardese)
  * [clang-doc](https://clang.llvm.org/extra/clang-doc.html)
  * [hdoc](https://hdoc.io/)
  * [Adobe Hyde](https://github.com/adobe/hyde)

## YAVE: Functional reactive visual programming language written in C++20

* [Reddit](https://www.reddit.com/r/cpp/comments/kub1gu/yave_functional_reactive_visual_programming/)
  * [GitHub](https://github.com/mocabe/yave) (C++20, LGPL)

## Possibility of adding operators to handle nullptr easier ("??", "?->")

* [Reddit](https://www.reddit.com/r/cpp/comments/kxflj9/possibility_of_adding_operators_to_handle_nullptr/)

## CMake and the Future of C++ Package Management

* [Borislav Stanimirov](https://ibob.github.io/blog/2020/01/13/cmake-package-management/)
  * [Reddit](https://www.reddit.com/r/cpp/comments/kwpkcw/cmake_and_the_future_of_c_package_management/?ref=share&ref_source=link)

## Fixed math header only library with MIT licence

* [Reddit](https://www.reddit.com/r/cpp/comments/l0uz1y/fixed_math_header_only_library_with_mit_licence/?ref=share&ref_source=link)
  * [GitHub](https://github.com/arturbac/fixed_math) (C++17, MIT)

## StackOverflow

![](img/stackoverflow_qa.jpeg)
