<!-- page_number: true -->
<!-- $theme: default -->

# C++ Club

## 21 September 2017

---

# Accelerating your C++ on GPU with [SYCL](https://www.khronos.org/sycl)

* [Post](https://blog.tartanllama.xyz/sycl/) by Simon Brand ([@TartanLlama](https://twitter.com/TartanLlama))
* Code samples
* Intro to GPGPU computing
* Libraries: [triSYCL](https://github.com/Xilinx/triSYCL) and [ComputeCpp](https://www.codeplay.com/products/computesuite/computecpp)
* [SyclParallelSTL](https://github.com/KhronosGroup/SyclParallelSTL) implements [Parallelism TS](https://github.com/cplusplus/parallelism-ts)

> Transferring data from main memory to the GPU is slow. Really slow. Like, kill all your performance and get you fired slow.

---

# VXL: Computer vision library

* [Home](http://vxl.sourceforge.net)
* [FAQ](http://vxl.sourceforge.net/vxl-users-faq.html)

---

# C++ Map

* [Original](http://cppmap.jimblog.me/cppmap_v3.png)
* [Local copy](img/cppmap_v3.png)

---

# Polymorphic clones in modern C++

[Jonathan Boccara](https://www.fluentcpp.com/2017/09/08/make-polymorphic-copy-modern-cpp/)

* "virtual constructors" returning covariant bare pointers
* "virtual constructors" returning `unique_ptr<Interface>`
* multiple inheritance: use different "constructor" names

---

# Polymorphic clones in modern C++ (cont.)

[Quentin Duval](https://deque.blog/2017/09/08/how-to-make-a-better-polymorphic-clone/), [Reddit](https://www.reddit.com/r/cpp/comments/6yug0q/how_to_make_a_better_polymorphic_clone_in_modern/)

* provide a free function `clone` to wrap the returned pointers in `unique_ptr`
* Non-Virtual Interface + CRTP
* additionally, return pointers using GSL's `owner`

---

# CopperSpice YouTube C++ Channel

[YouTube](https://www.youtube.com/channel/UC-lNlWEq0kpMcThO-I81ZdQ/videos)

---

# std::visit is everything wrong with modern C++

[Post](https://bitbashing.io/std-visit.html)

* `union`, `std::variant`
* [Open Pattern Matching for C++, by Yuriy Solodkyy, Gabriel Dos Reis, Bjarne Stroustrup (PDF)](http://www.stroustrup.com/OpenPatternMatching.pdf)
  - [Mach7 on GitHub](https://github.com/solodon4/Mach7)
* [P0095R1: Pattern Matching and Language Variants, by David Sankel](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/p0095r1.html) :: [Article](http://davidsankel.com/uncategorized/c-language-support-for-pattern-matching-and-variants/)

---

# Optional: command-line argument parsing library

[Home](https://mulholland.xyz/docs/optional/)

---

# Just::thread Pro Library by Anthony Williams

* [Home](https://www.stdthread.co.uk)
* [Pricing](https://www.stdthread.co.uk/order.html)

---

# Thoughts on destructive move

[Post](http://foonathan.net/blog/2017/09/14/destructive-move.html)

* Move operations are allowed to throw
  - [`std::move_if_noexcept`](http://en.cppreference.com/w/cpp/utility/move_if_noexcept)
* Move operations are potentially expensive
* Moved-from state

---

# GCC 7.2 patch implementing abbreviated lambdas

* [GitHub](https://github.com/DaemonSnake/gcc-abriviated-cpp-lambda) :: [Reddit](https://www.reddit.com/r/cpp/comments/708tpd/c_abbreviated_lambdas_for_fun_and_profit_gcc72/)
* Implements "Abbreviated Lambdas for Fun and Profit": [P0573r1](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2017/p0573r1.html)
* Implements "Forward without forward": [P0644r0](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2017/p0644r0.html)

```cpp
[](auto&&x) => func(>>x);
//equivalent to
[](auto&& x) ->
decltype((func(std::forward<decltype(x)&&>(x))))
noexcept(noexcept(func(std::forward<decltype(x)&&>(x))))
{
    return func(std::forward<decltype(x)&&>(x));
};
```

---

# Useful GCC warning options not enabled by -Wall -Wextra

[Post](https://kristerw.blogspot.co.uk/2017/09/useful-gcc-warning-options-not-enabled.html)

---

# Parsing Expression Grammar Template Library

[GitHub](https://github.com/taocpp/PEGTL)

The Parsing Expression Grammar Template Library (PEGTL) is a zero-dependency C++11 header-only parser combinator library for creating parsers according to a [Parsing Expression Grammar](http://en.wikipedia.org/wiki/Parsing_expression_grammar) (PEG).

---

# What's new in Clang-format 5

[Post](https://blog.benoitblanchon.fr/clang-format-5/)

---

# Programming language energy efficiency

[Article](https://sites.google.com/view/energy-efficiency-languages/results)

---

# Units 2.3.0 released

[GitHub](https://github.com/nholthaus/units/tree/v2.3.0)

A compile-time, header-only, dimensional analysis and unit conversion library built on C++14 with no dependencies.

```cpp
// simple implicit conversion
foot_t              len   = 5_m;
// more complex implicit conversion
meters_per_second_t speed = 60_mi / 1_hr;
// previous example with mixed units
square_meter_t      area  = 15_m * 5_m +
                            1000_cm * 1000_cm;
```

---

# Detection Idiom - A Stopgap for Concepts

[Post](https://blog.tartanllama.xyz/detection-idiom/)

* SFINAE and expression SFINAE
* `void_t`
* `is_detected` implementation
* links to videos on the topic

---

# llvm::Expected

* [GitHub](https://github.com/weliveindetail/llvm-expected)
* [Article 1: Basics](https://weliveindetail.github.io/blog/post/2017/09/06/llvm-expected-basics.html)
* [Article 2: Differentiation](https://weliveindetail.github.io/blog/post/2017/09/07/llvm-expected-differentiation.html)
* Uses `llvm::ErrorInfo` instead of a template parameter error type
* Article 3: coming soon

---

# liberasure

[GitHub](https://github.com/atomgalaxy/liberasure)

A no-dependencies C++ extensible type erasure library + lecture material.

---

# "Virtual concepts"

* [Concept-Model Idiom Part One: A new look at polymorphism](https://gracicot.github.io/conceptmodel/2017/09/13/concept-model-part1.html), [Reddit discussion](https://www.reddit.com/r/cpp/comments/709ttn/conceptmodel_idiom_part_one_a_new_look_at/)
* Virtual Concepts ([GitHub](https://github.com/andyprowl/virtual-concepts)): A research project aimed at introducing language support for type erasure in C++, [std-proposals discussion](https://groups.google.com/a/isocpp.org/forum/#!msg/std-proposals/4gEt2OBbSQM/dFr3Go95iZgJ) (Andy Prowl, with feedback from Brittany Friedman, whom he invariably calls "Brent")

---
