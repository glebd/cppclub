# Stash

## Video: Secure Programming Practices in C++ - NDC Security 2018

[YouTube](https://www.youtube.com/watch?v=Jh0G_A7iRac)

## Video: C++ Performance and Optimisation - NDC Techtown 2017

[YouTube](https://www.youtube.com/watch?v=eICYHA-eyXM)

## Video: Concurrent Programming in C++ - NDC Techtown 2017

[YouTube](https://www.youtube.com/watch?v=O7gUNNYjmsM)

## Video: CppCon 2016: "C++14 Reflections Without Macros, Markup nor External Tooling"

[YouTube](https://www.youtube.com/watch?v=abdeAew3gmQ)

## How to Adopt Modern C++17 into Your C++ Code, by Herb Sutter

* [YouTube](https://www.youtube.com/watch?v=UsrHQAzSXkA)

## Using metaprogramming for PIMPL idiom

* [Reddit](https://www.reddit.com/r/cpp/comments/7971ws/using_metaprogramming_for_pimpl_idiom/)

## Your own type predicate

* [Part 1](https://akrzemi1.wordpress.com/2017/12/02/your-own-type-predicate/)
* [Part 2](https://akrzemi1.wordpress.com/2017/12/20/a-friendly-type-predicate/)

## Tick: Trait introspection and concept creator for C++11

* [GitHub](https://github.com/pfultz2/Tick)

## Converting enum classes to strings and back in C++

* [Article](https://sheep.horse/2018/5/converting_enum_classes_to_strings_and_back_in_c++.html)
* [Reddit](https://www.reddit.com/r/cpp/comments/8hwk91/converting_enum_classes_to_strings_and_back_in_c/)

## Rvalues redefined

* [Post](https://akrzemi1.wordpress.com/2018/05/16/rvalues-redefined/)

## eventpp -- C++ library for event dispatcher and callback list

* [GitHub](https://github.com/wqking/eventpp)

## Multifunction: Generalization of `std::function` for any number of signatures

* [Code](https://github.com/fgoujeon/multifunction)

## How to Use Tag Dispatching In Your Code Effectively

* [Post](http://www.fluentcpp.com/2018/04/27/tag-dispatching/)

## Embracing Algorithms, by Dave Abrahams (WWDC2018)

* [Video](https://developer.apple.com/videos/play/wwdc2018/223/)
* [Reddit](https://www.reddit.com/r/cpp/comments/8pqtr1/dave_abrahams_on_embracing_algorithms_at_wwdc_2018/)

> I guess most of you know who Dave Abrahams is and what he has done in the C++ community. He
> switched gears a little and is now working at Apple focusing mostly on the development of the
> Swift language and its library. However, yesterday he gave an excellent talk at their Developer
> Conference entitled Embracing Algorithms, which IMHO is general enough to be of interest for C++
> developers as well. The link has a video of that 40 minutes long talk as well as the slides.

## Matt Godbolt (2017-06-27) - Memory and Caches

* [Video](https://www.youtube.com/watch?v=vDns3Um39l0)

## David Friberg - Three interesting minor features of C++20

* [YouTube](https://youtube.com/watch?v=4AQulaRJGMc)
* [Slides](https://dfrib.github.io/presentations/2020cw50_Gbgcpp_MinorCpp20Features.html)

## Video: Timur Doumler - How C++20 changes the way we write code - Meeting C++ 2020

* [YouTube](https://youtu.be/VK-16tpFQVI)
  * [Reddit](https://www.reddit.com/r/cpp/comments/lo4z89/timur_doumler_how_c20_changes_the_way_we_write/?ref=share&ref_source=link)

## A tutorial and take on C++20 coroutines

* [David MaziÃ¨res](https://www.scs.stanford.edu/~dm/blog/c++-coroutines.html)
  * [Reddit](https://www.reddit.com/r/cpp/comments/lpo9qa/my_tutorial_and_take_on_c20_coroutines_david/)

## C++ for fun... ctional programmers

[Video](https://youtu.be/2vJfJE4K0zg) at Func Prog Sweden

[Reddit](https://www.reddit.com/r/cpp/comments/nmwywg/c_for_fun_ctional_programmers_by_harald_achitz/)

[Blog](https://medium.com/swlh/doing-it-the-functional-way-in-c-5c392bbdd46a)

## Status of the Networking TS

A redditor is [curious](https://www.reddit.com/r/cpp/comments/mr0f56/does_anyone_have_any_updates_on_the_status_of_the/): "Does anyone have any updates on the status of the C++ Networking TS?"

Redditor **14ned** (Niall Douglas), a committee member, [replies](https://www.reddit.com/r/cpp/comments/mr0f56/does_anyone_have_any_updates_on_the_status_of_the/gul7mek/):

> Last time I looked, it all depends on how covid goes. If normal committee work resumes early 2022, there is a chance Networking makes 23. If it's late 2022, there is very little chance.
Currently the C++ 23 standard looks like it will be a fairly light one, but given how severely curtailed the committee's productivity has been, I still think it great anything got in at all. Equally, this probably means 26 will be a correspondingly bumper standard.

Then we have this very emotional and somewhat misguided [reply](https://www.reddit.com/r/cpp/comments/mr0f56/does_anyone_have_any_updates_on_the_status_of_the/gulsghv/) from redditor **Plazmatic**:

> Why do they need to "meet up" to basically just make decisions on things. They are presumably all tech people, we have video chat, or heck, they could do what every other language does and, you know use text platforms to discuss these things. When rust or python makes updates, the people in charge of the language don't all need to be in the same room to make it happen. Same thing for C#, Go, Swift, Kotlin, and heck, even Java. Why is C++ special? Why do they need 5 star hotels and vacation destinations to talk about the future of C++?

Another redditor [answers that](https://www.reddit.com/r/cpp/comments/mr0f56/does_anyone_have_any_updates_on_the_status_of_the/gult2jf/):

> Basically it all boils down to being a ISO language and having to follow ISO processes, which as far as I am aware have already been greatly simplified for C++. Also note that the languages listed by you don't have any presence in many markets where the only option is between C, C++ and Ada, all ISO languages with certified compiler toolchains and language standard compliance.

And more from [Niall Douglas](https://www.reddit.com/r/cpp/comments/mr0f56/does_anyone_have_any_updates_on_the_status_of_the/guq7kr6/):

> Late stage uncontentious proposals can make reasonable progress by teleconference. <...> Early stage proposals all went on pause over a year ago. None of progressed, none can progress, until onsite meetings return. <...> I am unaware of any programming ecosystem upon which billions of dollars of existing infrastructure lies which does not have multiple annual face to face gatherings.

[This is what Niall says](https://www.reddit.com/r/cpp/comments/mr0f56/does_anyone_have_any_updates_on_the_status_of_the/guq4rj1/) regarding the hotel "luxuries":

> Unless you go a day or two early, or stay after, you only see your hotel bedroom when sleeping and absolutely none of any facilities nor surrounds. You most definitely do NOT see the location you are in during the meeting itself, which particularly sucks for Kona.

Back on topic, **psyspy2** [replies](https://www.reddit.com/r/cpp/comments/mr0f56/does_anyone_have_any_updates_on_the_status_of_the/guklw08/):

> Networking is dependent on executors. That needs to go first. Networking might not make it into C++ 23.

Redditor **Gracicot** [expands on that]():

> <...> we need a standard interface to schedule async operations. In asio, it's the `io_context` type. The design of executor is still being tweaked though.

### Thhird-party solutions and links

* [Seastar](http://seastar.io/) ([GitHub](https://github.com/scylladb/seastar)) from [ScyllaDB](https://www.scylladb.com/) is an event-driven framework allowing you to write non-blocking, asynchronous code in a relatively straightforward manner. It supports C++17 and C++20, comes with its own native userspace [networking stack](https://github.com/scylladb/seastar/blob/master/doc/native-stack.md), and is distributed under the Apache-2.0 licence.
* [Asio](https://think-async.com/Asio/) is a cross-platform C++ library for network and low-level I/O programming that provides developers with a consistent asynchronous model using a modern C++ approach. It can be used either as part of Boost or in standalone mode.
* Video: _The Networking TS from Scratch: I/O Objects - Robert Leahy - CppCon 2020_ on [YouTube](https://youtu.be/xgXFZ-rYc4w).

## Vcpkg package search

Vcpkg is a C++ package manager from Microsoft. It builds packages from source, and now offers a [search function](https://vcpkg.io/en/index.html) on its official website, which allows you to find the library you need across approximately 1500 available recipes. The nice thing is, vcpkg is cross-platform.

There is another unofficial website, [vcpkg.info](https://vcpkg.info/), which lists even more packages (around 1600).

Good to see C++ package management getting more attention.

## Yet another pamphlet about inlining

Thomas Lourseyre writes on his blog [Belay the C++](https://belaycpp.com/2021/05/17/yet-another-pamphlet-about-inlining/):

> I will try here to summarize all you need to remember about inlining, giving pros, cons and situations to use it and to not use it.

The author correctly points out that the [`inline`](https://en.cppreference.com/w/cpp/language/inline) keyword is *a hint* to the compiler, which can ignore it. He then goes through pros and cons, and most of those assume that inlining actually happens, like the pros (avoiding the function call overhead) and cons (code size bloat).

Of course, `inline` being just a hint, the compiler is free to not inline the functions marked `inline`, but even if that doesn't happen, it allows you to keep function definition in the header file, which is useful if, for example, you have a header-only library. On the other hand, inline functions pollute headers and increase compiler memory requirements (we experienced this recently as a consequence of developers in one team keeping _all_ their functions in headers, which led to MSVC running out of memory on a 64GB machine).

Keep in mind that function templates are implicitly inline, so marking them `inline` is redundant.

Therte is a compiler-specific keyword `__forceinline` and the corresponding `__attribute__((always_inline))` which indicates that a function _must_ be inlined. However, compilers are free to ignore it as well.

With link-time optimization (LTO) modern compilers defer inlining until the link stage, when they can inline functions not explicitly marked `inline`.

This [redditor](https://www.reddit.com/r/cpp/comments/ne9qj2/belay_the_c_yet_another_pamphlet_about_inlining/gyf8jjx/) says:

> In modern C++ `inline` does not mean what you think it means. It currently is only used to be able to define the same function, global variable, or static member variable in multiple compilation units; while satisfying the "one definition rule".

The author writes:

> Here is my advice: donât use `inline` unless you are 100% sure it is called inside a bottleneck.

I think that, given all of the above, this advice doesn't make much sense.

He finishes with a completely unrelated issue of having one-line function definitions that are tricky to debug, which seems out of place in the article about inlining.

### Static inline variables

I wanted to remind you that C++17 introduced another very handy use of the `inline` keyword - static inline variables. They allow you to define static variables inside class declaration to avoid having to define them in the implementation file, reducing redundancy.

C++14 and earlier:

```cpp
// foo.hpp
class Foo
{
    static int bar;
};

// foo.cpp
int Foo::bar = 42;
```

C++17 and later:

```cpp
// foo.hpp
class Foo
{
    static inline int bar = 42;
    static constexpr int baz = 1; // implicitly inline
};
```

## TOML for modern C++

[TOML++ v2.4.0](https://marzer.github.io/tomlplusplus/)

[TOML](https://toml.io/en/) is _Tom's Obvious Minimal Language_, 'a configuration file format for humans' developed by [Tom Preston-Werner](https://en.wikipedia.org/wiki/Tom_Preston-Werner), the founder of GitHub ([he doesn't work there anymore](https://techcrunch.com/2014/04/21/github-denies-allegations-of-gender-based-harassment-co-founder-preston-werner-resigns/)). The language is easy to read and understand, it allows comments (hey, JSON!) and is widely supported - implementations are available in C, C++, C#, Java, JavaScript, Swift, Scala, Python, Ruby and other languages. TOML++ is a modern C++ implementation using C++17 and C++20, released under MIT license. It supports JSON serialization, UTF-8, optional header-only mode, and works with MSVC, Clang and GCC.

The [documentation](https://marzer.github.io/tomlplusplus/) is really nicely done. The author released a Doxygen wrapper called [Poxy](https://github.com/marzer/poxy) that you can use to produce similarly formatted documentation. One nice feature of Poxy is its improved Doxygen configuration file, which uses - you guessed it - TOML. As the author [says](https://www.reddit.com/r/cpp/comments/n8njbm/poxy_a_doxygen_frontend_with_extra_fancy/gxjd03h/) in the Reddit thread:

> While I can't take credit for the HTML generator itself <...>, I did write an additional front-end layer for it that fixes various Doxygen bugs and oddities, adds features and post-processes the HTML for extra fancy bits.

Consider using TOML for your next project's configuration.

## Cascadia Code 2105.24

I previously mentioned the new Cascadia Code font from Microsoft. It will be included in the Visual Studio 2022 preview this summer. A new version of the font has been released, and this time it has [fancy italics](https://github.com/microsoft/cascadia-code/releases/tag/v2105.24)! Go download and try it out with your current text editor or IDE. It's really nice and very readable.

## I don't need to read the documentation

[Reddit](https://www.reddit.com/r/ProgrammerHumor/comments/nl5lkf/i_dont_need_to_read_the_documentation_i_can_make/)

![](img/reddit-no-docs.jpg)

I feel seen.
