---
title:    C++ Club Meeting Notes
author:   Gleb Dolgich
date:     2018-01-11
---

# C++17 Review from PVS-Studio

[Article](https://www.viva64.com/en/b/0533/)

# Exceptions vs expected: Let's find a compromise

[Post](http://foonathan.net/blog/2017/12/04/exceptions-vs-expected.html) -- [Reddit thread](https://www.reddit.com/r/cpp/comments/7hk1gs/exceptions_vs_expected_lets_find_a_compromise/?st=jatcyvuo&sh=5b3957ef)

* Exceptions: Writing exception safe code is hard
* Exceptions are not easily composable: There is only one current exception, you can’t have multiple ones. This was a problem, for example, for the C++17 [parallel algorithms](http://www.bfilipek.com/2017/08/cpp17-details-parallel.html). What if an exception is thrown in multiple of the worker threads? How to report all of them back to the caller? The implementation gave up on solving that problem and just decided to terminate the program if any exception is thrown.
* As with most things, the disadvantages are opposites: “exceptions are too implicit!” — “ADTs are too explicit!”

# Exceptions vs expected: Let's find a compromise (cont.)

You’re writing a library and have a function that may fail — how do you report the error? If you want to write a truly flexible API, you have to do both: exceptions and error return codes. Because sometimes the error is “exceptional” and sometimes it isn’t.

Swift chose to use exceptions. *(Swift doesn’t use exceptions — GD)*

`defer` allows guaranteed cleanup without the boilerplate of RAII" *(`defer` is equivalent to `finally`, and what boilerplate is that? — GD)*

# Exceptions vs expected: Let's find a compromise (cont.)

Rust: ADT for error handling. `Result<T,E>`.

```rust
result = foo();
if (!result)
  return result.error();
// do something with result.value()

// old way
result = try!(foo());

// new built-in language feature
result = foo()?;
```

# How to handle errors in constructors without exceptions

[Post](http://foonathan.net/blog/2017/01/09/exceptions-constructor.html)

> If you do not have exceptions, reporting errors from a constructor is impossible without sacrificing guarantees. Where possible, simply use an alternative and non-recoverable way of error reporting.

> If that’s not applicable, provide a static function as the only way to create the object. It does not return an object directly, but an `optional` type. Carefully craft the implementation, so that the actual private constructor will only be called, when no operation can fail. Then every object will be valid, just like it were the case when using exceptions.

# A call for data on exceptions, by Simon Brand

[Post](https://blog.tartanllama.xyz/exception-data/)

* [C++ Core Guidelines: Error Handling](https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#e-error-handling)
* [Error handling links and resources](https://github.com/MattPD/cpplinks/blob/master/error_handling.md)

# Callbacks in C++

[Article](https://sudomakeinstall.io/posts/2017/11/30/callbacks-in-cpp11/)

* Function pointer
* Pointer to member function
* Functor
* Lambda

# Boost 1.66 released

[Release page](http://www.boost.org/users/history/version_1_66_0.html)

# Cereal -- a C++11 serialization library

[Website](https://uscilab.github.io/cereal/)

* Header-only
* Similar to Boost serialization, with easy transition
* Formats: binary, XML, JSON, custom
* No external dependencies
* Supports `std::shared_ptr` and `std::unique_ptr`
* BSD

# CLI11 1.3

A powerful library for writing beautiful command line interfaces in C++11. No dependencies, header-only, BSD 3-Clause.

* [Announcement](https://iscinumpy.gitlab.io/post/announcing-cli11-13/)
* [GitHub](https://github.com/CLIUtils/CLI11)
* [Docs](https://cliutils.gitlab.io/CLI11Tutorial/)

# Pugixml

Light-weight, simple and fast XML parser for C++ with XPath support

* [Website](https://pugixml.org/)
* [GitHub](https://github.com/zeux/pugixml) (MIT)

# RapidJSON

A fast JSON parser/generator for C++ with both SAX/DOM style API. Header-only, Unicode-friendly, BSD

* [Website](http://rapidjson.org/)
* [GitHub](https://github.com/Tencent/rapidjson)

# NLohmann/JSON: JSON for modern C++

* [GitHub](https://github.com/nlohmann/json) (MIT)
* [Docs](https://nlohmann.github.io/json/)

# ComputeCpp 0.5.0 and SYCL 1.2.1

* [Blog post by Codeplay](https://codeplay.com/portal/12-06-17-computecpp-ce-0-5-0-released-and-sycl-1-2-1-ratified)
* [Download](https://developer.codeplay.com/)
* SYCL is used in machine learning. ComputeCpp, Codeplay's implementation of the SYCL standard can already be used to execute TensorFlow applications on SPIR OpenCL supported hardware.
* An ARM release of ComputeCpp is also now available and allows developers to target a range of embedded processors using SYCL.

# CUTLASS by NVIDIA

A preview of CUTLASS (CUDA Templates for Linear Algebra Subroutines), a collection of CUDA C++ templates and abstractions for implementing high-performance GEMM computations at all levels and scales within CUDA kernels.

* [Announcement](https://devblogs.nvidia.com/parallelforall/cutlass-linear-algebra-cuda/)
* [GitHub](https://github.com/NVIDIA/cutlass) (BSD-3-Clause)

# HPX on a RasPI cluster

* [Slides](http://reu.cct.lsu.edu/documents/2017-presentations/Goncalves-Presentation.pdf)

# CppCon 2017: Juan Arrieta “Traveling the Solar System with C++: Programming Rocket Science”

[YouTube](https://www.youtube.com/watch?v=YXs3DFrZZL4)

# Clipp: command-line argument handler

Easy to use, powerful and expressive command line argument handling for C++11/14/17 contained in a single header file.

* [GitHub](https://github.com/muellan/clipp) (MIT)

# Compile-time String Obfuscator

[GitHub](https://github.com/urShadow/StringObfuscator) (C++14) (MIT)

```cpp
#include <iostream>
#include "str_obfuscator.hpp"

int main(void)
{
  std::cout << cryptor::create("Hello, World!").decrypt()
            << "\n";
  return 0;
}
```

# Vc: SIMD Vector Classes for C++ by Matthias Kretz

* [GitHub](https://github.com/VcDevel/Vc) (C++14) (BSD-3-Clause)
* [P0214R7: Data-Parallel Vector Types & Operations](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2017/p0214r7.pdf)

# libbson: A BSON utility library by MongoDB

* [GitHub](https://github.com/mongodb/libbson) (Apache-2.0)

# C++ poetry

[Reddit](https://www.reddit.com/r/cpp/comments/7crald/a_c_poem/)

```cpp
void spanish_inquisition() noexcept
{
    throw std::unexpected;
}
```

# Quote

Kevlin Henney:

> A common fallacy is to assume authors of incomprehensible code will be able to express themselves clearly in comments.

# Quote

Steve C. McConnell:

> The problem with quick and dirty is that the dirty remains long after the quick has been forgotten.
