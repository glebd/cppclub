---
title:    C++ Club Meeting Notes
author:   Gleb Dolgich
date:     2018-03-08
---

# Smf RPC

*smf* is a new RPC system and code generation like gRPC, Cap'n'Proto, Apache Thrift, etc, but designed for microsecond tail latency.

* [Home page](https://senior7515.github.io/smf/)
* [Code](https://github.com/senior7515/smf)
* [Reddit](https://www.reddit.com/r/cpp/comments/807rgh/show_reditcpp_smf_cpp_community_feedback/)

Based on [Seastar](http://www.seastar-project.org/) ([code](https://github.com/scylladb/seastar)) by [ScyllaDB](https://www.scylladb.com/).

# Frozen: a header-only, constexpr alternative to gperf for C++14 users

Header-only library that provides zero-cost initialization for immutable containers and various algorithms.

* [Code](https://github.com/serge-sans-paille/frozen) (Apache 2.0)
* [Intro](https://blog.quarkslab.com/frozen-an-header-only-constexpr-alternative-to-gperf-for-c14-users.html)

```cpp
#include <frozen/unordered_set.h>

constexpr frozen::unordered_set<int, 3> keys = {1,2,4};

int some_user(int key) {
    return keys.count(key);
}
```

# Video: The hidden rules of world-class C++ code - Boris Schäling - Meeting C++ 2017

[Video](https://www.youtube.com/watch?v=fu6N6JbPOrI)

How we know if a code base is good or bad?

# Video: Free your functions! - Klaus Iglberger - Meeting C++ 2017

[Video](https://www.youtube.com/watch?v=nWJHhtmWYcY)

Data should be as encapsulated as possible => free functions lead to better encapsulation than member functions.

How to test a private function?

* `friend` test function (bad)
* `#define private public` (worse)
* free function operating on data in the class (better)

# Fun with (user-defined) attributes - Jonathan Müller - Meeting C++ 2017

* [Video](https://www.youtube.com/watch?v=Pt6oeIpzue4)

Syntax:

* Simple identifiers: `[[foo]]`
* Pack expansion: `[[foo...]]`
* Multiple attributes: `[[foo, bar, baz]]`
* Arguments: `[[foo(a, "b", 3.14, +)]]`
* Namespaces: `[[foo::bar]]`
* Using declaration: `[[using foo: bar, baz]]`

# Fun with (user-defined) attributes - Jonathan Müller - Meeting C++ 2017 (cont.)

```cpp
[[noreturn]] void handle_error(std::string msg)
{
    throw std::runtime_error(std::move(msg));
}
```

# Fun with (user-defined) attributes - Jonathan Müller - Meeting C++ 2017 (cont.)

```cpp
alignas(128) char cacheline[128];
```

# Fun with (user-defined) attributes - Jonathan Müller - Meeting C++ 2017 (cont.)

```cpp
void func(int param);

[[deprecated("pass a parameter instead")]]
void func()
{
    func(0);
}
```

# Fun with (user-defined) attributes - Jonathan Müller - Meeting C++ 2017 (cont.)

```cpp
switch (selected_option)
{
    <...>
    case option::b:
        if (foo)
            log_error("option::b may not be used when foo is set");
        // otherwise b is exactly like c so continue on
        [[fallthrough]];
    case option::c:
        <...>
}
```

# Fun with (user-defined) attributes - Jonathan Müller - Meeting C++ 2017 (cont.)

```cpp
[[nodiscard]]
int error();
```

# Fun with (user-defined) attributes - Jonathan Müller - Meeting C++ 2017 (cont.)

```cpp
[[maybe_unused]]
static bool is_valid(int param);

void do_something(int a, [[maybe_unused]] int b)
{
    <...>
}
```

# Fun with (user-defined) attributes - Jonathan Müller - Meeting C++ 2017 (cont.)

Compiler-specific attributes change generated code, C++ standard ones don't.

# Video: Secure Programming Practices in C++ - NDC Security 2018

[YouTube](https://www.youtube.com/watch?v=Jh0G_A7iRac)

# Video: C++ Performance and Optimisation - NDC Techtown 2017

[YouTube](https://www.youtube.com/watch?v=eICYHA-eyXM)

# Video: Concurrent Programming in C++ - NDC Techtown 2017

[YouTube](https://www.youtube.com/watch?v=O7gUNNYjmsM)

# Video: True parallelism, with no concept of threads - Alfred Bratterud - Meeting C++ 2017

[YouTube](https://www.youtube.com/watch?v=9IXivbSA_5A)

# Video: Deep Learning with C++ - Peter Goldsborough - Meeting C++ 2017

[YouTube](https://www.youtube.com/watch?v=8GoYXWOq55A)

# Video: CppCon 2016: "C++14 Reflections Without Macros, Markup nor External Tooling"

[YouTube](https://www.youtube.com/watch?v=abdeAew3gmQ)

# Variadic CRTP, by Steve Dewhurst

[PDF](http://stevedewhurst.com/once_weakly/once-weakly20170328/once-weakly20170328.pdf)
