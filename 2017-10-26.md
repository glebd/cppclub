---
title:    C++ Club Meeting Notes
author:   Gleb Dolgich
date:     2017-10-26
---

# CppCon 2017: Matt Godbolt "What Has My Compiler Done for Me Lately? Unbolting the Compiler's Lid"

[YouTube](https://www.youtube.com/watch?v=bSkpMdDe4g4)

* [x86 Assembly (Wikibooks)](https://en.wikibooks.org/wiki/X86_Assembly)
* Reading assembly alone can be misleading, need to measure too
    * [Google Benchmark](https://github.com/google/benchmark)
    * [quick-bench.com](http://quick-bench.com)
* Target specific CPU architecture (`-march=i486` vs. `-march=haswell`)
* Coming soon: code execution
* Written in Node.js
* Costs: $200/month

# CppCon 2017: Scott Wardle "EA's Secret Weapon: Packages and Modules"

[YouTube](https://www.youtube.com/watch?v=NlyDUQS8OcQ)

# CppCon 2017 Internet of Things Panel

[YouTube](https://www.youtube.com/watch?v=gmW6b0I_t5k)

* Updating and fixing bugs is a problem, especially when the device is not supported anymore or the manufacturer goes out of business
* Why would anyone want their fridge to connect to the Internet?
* Early IoT adopters have quite a few paperweights
* IoT security is a big issue and it is hard
* Using exceptions may not be possible
* IoT projects are excellent for getting children interested in programming and technology

# Best unknown MSVC flag: `/d2cgsummary`

[Post](http://aras-p.info/blog/2017/10/23/Best-unknown-MSVC-flag-d2cgsummary/)

[Case study](https://www.enkisoftware.com/devlogpost-20171031-1-Speeding-up-Runtime-Compiled-C++-compile-times-in-MSVC-with-d2cgsummary)

* Anomalistic compile times
* Caching stats
* Code generation summary
* Name demangling: `undname.exe` or [online demangler](https://demangler.com/)

# ARM GCC Cross Compilation in Visual Studio

[Post](https://blogs.msdn.microsoft.com/vcblog/2017/10/23/arm-gcc-cross-compilation-in-visual-studio/)

Download the [Visual Studio 2017 Preview](https://www.visualstudio.com/vs/preview/), install the **Linux C++ Workload**, select the option for **Embedded and IoT Development** and give it a try with your projects.

# CLion 2017.3 EAP

[Post](https://blog.jetbrains.com/clion/2017/10/clion-2017-3-eap-valgrind-memcheck-integration/)

* Valgrind memcheck integration (except on Windows)
* [YouTrack ticket: Sanitizer support](https://youtrack.jetbrains.com/issue/CPP-11099)
* Improved support for multiple toolchains

# Guide into OpenMP: Easy multithreading programming for C++

[Link](http://bisqwit.iki.fi/story/howto/openmp/)

```cpp
#include <cmath>
int main()
{
    const int size = 256;
    double sinTable[size];

    #pragma omp parallel for
    for(int n=0; n<size; ++n)
        sinTable[n] = std::sin(2 * M_PI * n / size);

    // the table is now initialized
}
```

# A polymorphic value-type for C++

[P0201R2 by Jonathan Coe and Sean Parent](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2017/p0201r2.pdf)

```cpp
// Copyable composite with mutable polymorphic components
class CompositeObject {
  std::polymorphic_value<IComponent1> c1_;
  std::polymorphic_value<IComponent2> c2_;
public:
  CompositeObject(std::polymorphic_value<IComponent1> c1,
                    std::polymorphic_value<IComponent2> c2) :
                    c1_(std::move(c1)), c2_(std::move(c2)) {}
  void foo() { c1_->foo(); }
  void bar() { c2_->bar(); }
};
```

# Printing boolean values

[Pierre Habouzit on Twitter](https://twitter.com/pedantcoder/status/923115888999522304):

```c
printf("%c", boolean_expr["NY"])
```

# Variadic CRTP by Steve Dewhurst

[PDF](http://stevedewhurst.com/once_weakly/once-weakly20170328/once-weakly20170328.pdf)

# "Making new friends" idiom by Dan Saks

[Wikibooks](https://en.wikibooks.org/wiki/More_C%2B%2B_Idioms/Making_New_Friends)

> The goal is to simplify creation of friend functions for a class template.

```cpp
template<typename T>
class Foo {
   T value;
public:
   Foo(const T& t) { value = t; }
   friend ostream& operator <<(ostream& os, const Foo<T>& b)
   {
      return os << b.value;
   }
};
```

# ULID: Universally Unique Lexicographically Sortable Identifier

* [GitHub](https://github.com/alizain/ulid)
* [C++](https://github.com/suyash/ulid) --- header-only, MIT
* 128-bit compatibility with UUID
* 1.21e+24 unique ULIDs per millisecond
* Lexicographically sortable!
* Canonically encoded as a 26 character string, as opposed to the 36 character UUID
* Uses Crockford's *base32* for better efficiency and readability (5 bits per character)
* Case insensitive
* No special characters (URL safe)
* Monotonic sort order (correctly detects and handles the same millisecond)

# Does C++ need a universal package manager?

* [Article by Paul Fultz II](http://pfultz2.com/blog/2017/10/27/universal-package-manager/)
* [Reddit thread](https://www.reddit.com/r/programming/comments/79a0x3/does_c_need_a_universal_package_manager/)
* [Hacker News thread](https://news.ycombinator.com/item?id=15578065)
* Many package managers but no standard build system for C++
* A platform independent package manager for C++ must effectively degrade into a build system that rebuilds all dependencies from source (Rust & Cargo)

> What C++ needs is a common format to communicate a package’s requirements among different package manager tools.

# Boost.UI library

[GitHub](https://github.com/kosenko/ui)

# Transwarp

*Transwarp* is a header-only C++ library for task concurrency. It enables you to free your functors from explicit threads and transparently manage dependencies. Under the hood, a directed acyclic graph is built that allows for efficient traversal and type-safe dependencies. Use *transwarp* if you want to model your dependent operations in a graph of tasks and intend to invoke the graph more than once (MIT).

* [GitHub](https://github.com/bloomen/transwarp)

# Ctla: Compile-time linear algebra in C++

[GitHub](https://github.com/moroneyt/ctla) (MIT)

* Header-only library
* All functions `constexpr`, all computation done at compile time
* Intuitive syntax for initialisation, indexing, augmenting
* Matrix arithmetic including inverses and linear systems supported
* Block matrices supported
* Runtime printing in MATLAB-compatible syntax if required

# CsString

Header-only library providing Unicode-aware string support for C++. Part of [CopperSpice](https://github.com/copperspice)

* [GitHub](https://github.com/copperspice/cs_string)
* [Docs](http://www.copperspice.com/docs/cs_string/namespace_cs_string.html)
* Header-only
* C++11
* BSD 2-clause
