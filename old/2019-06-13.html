<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Gleb Dolgich" />
  <meta name="dcterms.date" content="2019-06-13" />
  <title>C++ Club UK</title>
  <style>
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style>
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">C++ Club UK</h1>
<p class="author">Gleb Dolgich</p>
<p class="date">2019-06-13</p>
</header>
<hr />
<h1 id="p0976r0-bjarne-stroustrup---the-evils-of-paradigms">P0976r0: Bjarne Stroustrup - The Evils of Paradigms</h1>
<p><a href="http://wg21.link/p0976r0">http://wg21.link/p0976r0</a></p>
<blockquote>
<p>In programming, some people deem imperative, object-oriented, and functional programming different paradigms. I think the very notion of a paradigm does harm to use and to design because people all too easily fall into the trap of considering only one paradigm “good” and then try to fit everything into it, discarding all aspects of alternative “paradigms” as wrong or inferior (aka “If your only tool is a hammer, everything looks like a nail”).</p>
</blockquote>
<h1 id="cppcast-pattern-matching-with-michael-park">CppCast: Pattern Matching with Michael Park</h1>
<p><a href="http://cppcast.com/2019/06/michael-park/">http://cppcast.com/2019/06/michael-park/</a></p>
<p>P1371: Pattern Matching <a href="http://wg21.link/p1371r0">http://wg21.link/p1371r0</a></p>
<h1 id="the-story-bloomberg-senior-developer-elliot-goodrich">The Story: Bloomberg senior developer Elliot Goodrich</h1>
<p><a href="https://www.client-server.com/blog/2019/06/the-story-bloomberg-senior-developer-elliot-goodrich">https://www.client-server.com/blog/2019/06/the-story-bloomberg-senior-developer-elliot-goodrich</a></p>
<blockquote>
<p>I don't think C++ is dying by any stretch of the imagination.</p>
</blockquote>
<p><a href="https://www.reddit.com/r/cpp/comments/bw8fyu/interesting_interview_on_client_servers_blog_with/">https://www.reddit.com/r/cpp/comments/bw8fyu/interesting_interview_on_client_servers_blog_with/</a></p>
<h1 id="modern-c---authors-and-books">Modern C++ - authors and books</h1>
<p><a href="https://www.reddit.com/r/cpp/comments/by60wx/modern_c_authors_and_books/">https://www.reddit.com/r/cpp/comments/by60wx/modern_c_authors_and_books/</a></p>
<p><img src="img/cpp-data-structures-book-2019.png" alt="image" /></p>
<h1 id="enum-template-parameters">Enum template parameters</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode c++"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">enum</span> Foo {FooBar, FooBaz};</span>
<span id="cb1-2"><a href="#cb1-2"></a></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw">template</span>&lt;Foo foo&gt;</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="kw">struct</span> Test {</span>
<span id="cb1-5"><a href="#cb1-5"></a>    Kind kind{foo};</span>
<span id="cb1-6"><a href="#cb1-6"></a>};</span>
<span id="cb1-7"><a href="#cb1-7"></a></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="dt">int</span> main() {</span>
<span id="cb1-9"><a href="#cb1-9"></a>    Test&lt;FooBar&gt; fooBar;</span>
<span id="cb1-10"><a href="#cb1-10"></a>    <span class="ot">assert</span>(fooBar.kind==FooBar);</span>
<span id="cb1-11"><a href="#cb1-11"></a>}</span></code></pre></div>
<h1 id="roman-numerals-in-c">Roman numerals in C++</h1>
<p><a href="https://github.com/tcbrindle/numeris_romanis">https://github.com/tcbrindle/numeris_romanis</a></p>
<p><a href="https://www.reddit.com/r/cpp/comments/bxiqmm/numeris_romanis_roman_numeral_support_for_c17/">https://www.reddit.com/r/cpp/comments/bxiqmm/numeris_romanis_roman_numeral_support_for_c17/</a></p>
<p>Unrelated: <a href="https://stackoverflow.com/questions/228783/what-are-the-rules-about-using-an-underscore-in-a-c-identifier">What are the rules about using an underscore in a C++ identifier?</a></p>
<blockquote>
<p>Each name that begins with an underscore is reserved to the implementation for use as a name in the global namespace.</p>
</blockquote>
<h1 id="understanding-when-not-to-stdmove-in-c">Understanding when not to <strong>std::move</strong> in C++</h1>
<p><a href="https://developers.redhat.com/blog/2019/04/12/understanding-when-not-to-stdmove-in-c/">https://developers.redhat.com/blog/2019/04/12/understanding-when-not-to-stdmove-in-c/</a></p>
<p>GCC 9:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1"></a><span class="ex">-Wall</span> -Wpessimizing-move</span></code></pre></div>
<p>Example:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode c++"><code class="sourceCode cpp"><span id="cb3-1"><a href="#cb3-1"></a>T fn() {</span>
<span id="cb3-2"><a href="#cb3-2"></a>  T t;</span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="cf">return</span> <span class="bu">std::</span>move(t); <span class="co">// Prevents NRVO: returned expression must be a name</span></span>
<span id="cb3-4"><a href="#cb3-4"></a>}</span></code></pre></div>
<h1 id="understanding-when-not-to-stdmove-in-c-cont.">Understanding when not to <strong>std::move</strong> in C++ (cont.)</h1>
<p>GCC 9:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1"></a><span class="ex">-Wextra</span> -Wredundant-move</span></code></pre></div>
<p>Example:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode c++"><code class="sourceCode cpp"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw">struct</span> T {</span>
<span id="cb5-2"><a href="#cb5-2"></a>  T(<span class="at">const</span> T&amp;) = <span class="kw">delete</span>;</span>
<span id="cb5-3"><a href="#cb5-3"></a>  T(T&amp;&amp;);</span>
<span id="cb5-4"><a href="#cb5-4"></a>};</span>
<span id="cb5-5"><a href="#cb5-5"></a></span>
<span id="cb5-6"><a href="#cb5-6"></a>T fn(T t) {</span>
<span id="cb5-7"><a href="#cb5-7"></a>  <span class="cf">return</span> <span class="bu">std::</span>move(t); <span class="co">// Redundant: move used implicitly</span></span>
<span id="cb5-8"><a href="#cb5-8"></a>}</span></code></pre></div>
<h1 id="understanding-when-not-to-stdmove-in-c-cont.-1">Understanding when not to <strong>std::move</strong> in C++ (cont.)</h1>
<p>When <code>std::move</code> makes sense:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode c++"><code class="sourceCode cpp"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw">struct</span> U {};</span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="kw">struct</span> T : U {};</span>
<span id="cb6-3"><a href="#cb6-3"></a></span>
<span id="cb6-4"><a href="#cb6-4"></a>U f() {</span>
<span id="cb6-5"><a href="#cb6-5"></a>  T t;</span>
<span id="cb6-6"><a href="#cb6-6"></a>  <span class="cf">return</span> <span class="bu">std::</span>move(t); <span class="co">// Necessary</span></span>
<span id="cb6-7"><a href="#cb6-7"></a>}</span></code></pre></div>
<p>Explanation:</p>
<blockquote>
<p>When a function returns an object whose type is a class derived from the class type the function returns. In that case, overload resolution is performed a second time, this time treating the object as an <em>lvalue</em>.</p>
</blockquote>
<h1 id="building-better-software-with-better-tools-sanitizers-versus-valgrind">Building better software with better tools: sanitizers versus valgrind</h1>
<p><a href="https://lemire.me/blog/2019/05/16/building-better-software-with-better-tools-sanitizers-versus-valgrind/">https://lemire.me/blog/2019/05/16/building-better-software-with-better-tools-sanitizers-versus-valgrind/</a></p>
<p>Also: <a href="https://lemire.me/blog/2016/04/20/no-more-leaks-with-sanitize-flags-in-gcc-and-clang/">No more leaks with sanitize flags in gcc and clang</a></p>
<h1 id="variadic_future"><strong>variadic_future</strong></h1>
<p>A variadic, completion-based future class for C++17</p>
<p><a href="https://github.com/FrancoisChabot/variadic_future">https://github.com/FrancoisChabot/variadic_future</a> (Apache 2.0)</p>
<h1 id="re-implementing-an-old-dos-game-in-c17">Re-implementing an old DOS game in C++17</h1>
<p><a href="https://lethalguitar.wordpress.com/2019/05/28/re-implementing-an-old-dos-game-in-c-17/">https://lethalguitar.wordpress.com/2019/05/28/re-implementing-an-old-dos-game-in-c-17/</a></p>
<p>Code: <a href="https://github.com/lethal-guitar/RigelEngine">https://github.com/lethal-guitar/RigelEngine</a></p>
<p>Duke Nukem II: <a href="https://en.wikipedia.org/wiki/Duke_Nukem_II">https://en.wikipedia.org/wiki/Duke_Nukem_II</a></p>
<p>Reddit:</p>
<ul>
<li><a href="https://www.reddit.com/r/cpp/comments/bubyrn/reimplementing_an_old_dos_game_in_c_17/">https://www.reddit.com/r/cpp/comments/bubyrn/reimplementing_an_old_dos_game_in_c_17/</a></li>
<li><a href="https://www.reddit.com/r/programming/comments/buc3u4/reimplementing_an_old_dos_game_in_c_17/">https://www.reddit.com/r/programming/comments/buc3u4/reimplementing_an_old_dos_game_in_c_17/</a></li>
</ul>
<p>Also: <a href="https://osgameclones.com/">https://osgameclones.com/</a></p>
<h1 id="using-main-is-undefined-behaviour">Using <strong>main</strong> is undefined behaviour</h1>
<p>Shafik Yaghmour:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode c++"><code class="sourceCode cpp"><span id="cb7-1"><a href="#cb7-1"></a><span class="dt">int</span> main() {</span>
<span id="cb7-2"><a href="#cb7-2"></a>    <span class="kw">decltype</span>(main()) x;</span>
<span id="cb7-3"><a href="#cb7-3"></a>    <span class="cf">return</span> <span class="kw">static_cast</span>&lt;<span class="dt">bool</span>&gt;(&amp;main);</span>
<span id="cb7-4"><a href="#cb7-4"></a>}</span></code></pre></div>
<p><img src="img/rules-main.png" alt="image" /></p>
<h1 id="attempting-to-modify-a-const-object-is-undefined-behaviour">Attempting to modify a const object is undefined behaviour</h1>
<p>Shafik Yaghmour:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode c++"><code class="sourceCode cpp"><span id="cb8-1"><a href="#cb8-1"></a><span class="dt">int</span> b() {</span>
<span id="cb8-2"><a href="#cb8-2"></a>    <span class="at">const</span> <span class="dt">int</span> x=<span class="dv">1</span>;</span>
<span id="cb8-3"><a href="#cb8-3"></a>    <span class="dt">int</span>* p = <span class="kw">const_cast</span>&lt;<span class="dt">int</span>*&gt;(&amp;x); <span class="co">// OK</span></span>
<span id="cb8-4"><a href="#cb8-4"></a>    *p = <span class="dv">2</span>;                        <span class="co">// UB</span></span>
<span id="cb8-5"><a href="#cb8-5"></a>    <span class="cf">return</span> *p;</span>
<span id="cb8-6"><a href="#cb8-6"></a>}</span></code></pre></div>
<h1 id="c17-stl-parallel-algorithms---with-gcc-9.1-and-intel-tbb-on-linux-and-macos">C++17 STL Parallel Algorithms - with GCC 9.1 and Intel TBB on Linux and macOS</h1>
<p><a href="https://solarianprogrammer.com/2019/05/09/cpp-17-stl-parallel-algorithms-gcc-intel-tbb-linux-macos/">https://solarianprogrammer.com/2019/05/09/cpp-17-stl-parallel-algorithms-gcc-intel-tbb-linux-macos/</a></p>
<p>Threading Building Blocks (TBB) <a href="https://www.threadingbuildingblocks.org/">https://www.threadingbuildingblocks.org/</a></p>
<p>GitHub: <a href="https://github.com/intel/tbb">https://github.com/intel/tbb</a> (Apache 2.0)</p>
<blockquote>
<p>Since 2018 U5 TBB binary packages include Parallel STL as a high-level component.</p>
</blockquote>
<p>Parallel STL: <a href="https://github.com/intel/parallelstl">https://github.com/intel/parallelstl</a> (Apache 2.0)</p>
<h1 id="quote">Quote</h1>
<p>Melinda Varian:</p>
<blockquote>
<p>The best programs are the ones written when the programmer is supposed to be working on something else.</p>
</blockquote>
</body>
</html>
