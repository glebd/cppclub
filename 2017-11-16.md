---
title:    C++ Club Meeting Notes
author:   Gleb Dolgich
date:     2017-11-16
---

# 2017-10 Pre-Albuquerque Mailing

[Announcement](https://isocpp.org/blog/2017/10/2017-10-pre-albuquerque-mailing-available)

# CppCon 2017: Adrien Devresse "Nix: A functional package manager for your C++ software stack"

* [YouTube](https://www.youtube.com/watch?v=6wJ4-wP-nnA)
* [Home](https://nixos.org/nix/)

# Conan 0.28.1

[Changelog](http://docs.conan.io/en/latest/changelog.html)

# Does C++ need a universal package manager?

* [Article by Paul Fultz II](http://pfultz2.com/blog/2017/10/27/universal-package-manager/)
* [Reddit thread](https://www.reddit.com/r/programming/comments/79a0x3/does_c_need_a_universal_package_manager/)
* [Hacker News thread](https://news.ycombinator.com/item?id=15578065)
* Many package managers but no standard build system for C++
* A platform-independent package manager for C++ must effectively degrade into a build system that rebuilds all dependencies from source (Rust & Cargo)

> What C++ needs is a common format to communicate a package’s requirements among different package manager tools.

# C++ Modules Are a Tooling Opportunity, by GDR

[PDF](http://www.axiomatics.org/~gdr/modules/tooling-opportunity.pdf)

* That opening Machiavelli quote :-)
* Modules TS introduces a concept of an artifact that depends on the sources and requires a build step, but doesn't specify how to do it
* Turning C++ compiler into a build system: not recommended, but possible
* *build2* understands module dependencies (a separate tool pass required)
* Different binary formats in different compilers (MSVC: open IFC format, Clang: own format, GCC: own format) $\Rightarrow$ translation?
* No packaging support: an opportunity

# P0804R0: Impact of the Modules TS on the C++ Tools Ecosystem

[P0804R0](http://open-std.org/JTC1/SC22/WG21/docs/papers/2017/p0804r0.html)

* The tool must now be able to resolve module import declarations to either the source code for the corresponding module interface unit, or to some module artifact that provides the exported entities for the module.
* Though module artifact are not intended to be a distribution format or an alternative to access to source code, motivation exists to use them in this way.

# CppCon 2017: Boris Kolpackov "Building C++ Modules"

[YouTube](https://www.youtube.com/watch?v=E8EbDcLQAoc)

* Isolation from macros and symbols
* A physical design mechanism
* A step towards not needing the preprocessor
* Reliable distributed compilation
* Faster builds
* Interesting questions from John Lakos (how to support modules given a huge legacy codebase)

# CppCon 2017: Boris Kolpackov "C++ Modules and Packages: Making Dreams Come True"

[YouTube](https://www.youtube.com/watch?v=PxFrhYAYF3M) (5m)

A live demo of using *build2* package manager and build system with C++ Modules.

# Common C++ Modules TS Misconceptions, by Boris Kolpackov

[Post](https://build2.org/article/cxx-modules-misconceptions.xhtml)

* "I cannot have everything in a single file" -- you can
* "I cannot export macros from modules" -- good
* "I cannot modularize existing code without touching it" -- some duplication required
* "No build system will be able to support modules" -- *build2*

[Reddit](https://www.reddit.com/r/cpp/comments/7a3t2w/common_c_modules_ts_misconceptions/)

* It would be good if people interested in modules would read the whole proposal.
* Nothing in the current proposal mandates a binary module interface (BMI) or that it has to be a file.

# CppCon 2017: Isabella Muerte "There Will Be Build Systems: I Configure Your Milkshake"

[YouTube](https://www.youtube.com/watch?v=7THzO-D0ta4&t=3s)

* The C++ ecosystem is really bad (compared to other languages)
* Discusses complexities of build systems
* Mentions meta-build systems (CMake, Meson, Premake)

# CppCast: Build Systems and Modules with Isabella Muerte

[CppCast](http://cppcast.com/2017/10/isabella-muerte/)

* A great confusion exists on what exactly are C++ Modules, even in the Committee
* Build systems need to understand modules (Gabriel Dos Reyes)
* *build2* is currently the only build system supporting all existing implementations of Modules TS

# C++ Modules, what are they for?

[Reddit post](https://www.reddit.com/r/cpp/comments/7b2och/c_modules/) with a "Modules Lite" proposal

**Goals of Modules TS**

1. componentization;
2. isolation from macros;
3. scalable build;
4. support for modern semantics-aware developer tools.

Furthermore, the proposal reduces opportunities for violations of the One Definition Rule (ODR), and increases practical type-safe linking.

# Quote

Stan Kelly-Bootle:

> Should array indices start at 0 or 1? My compromise of 0.5 was rejected without, I thought, proper consideration.

# Quote

@jamesshore:

> Do; or do not. There is no //TODO

# CppCon 2017: Nathan Sidwell “Adding C++ modules-ts to the GNU Compiler”

[YouTube](https://www.youtube.com/watch?v=5EI3XBde_w4)

# Variadic CRTP by Steve Dewhurst

[PDF](http://stevedewhurst.com/once_weakly/once-weakly20170328/once-weakly20170328.pdf)

# "Making new friends" idiom by Dan Saks

[Wikibooks](https://en.wikibooks.org/wiki/More_C%2B%2B_Idioms/Making_New_Friends)

> The goal is to simplify creation of friend functions for a class template.

```cpp
template<typename T>
class Foo {
   T value;
public:
   Foo(const T& t) { value = t; }
   friend ostream& operator <<(ostream& os, const Foo<T>& b)
   {
      return os << b.value;
   }
};
```

# Boost.UI library

[GitHub](https://github.com/kosenko/ui)
